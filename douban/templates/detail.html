{% load filters %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Movie detail</title>
</head>
<body>
{#<ul>#}
{#    {% for e in douban_obj %}#}
{#    <li>{{ e.title }}</li>#}
{#        <p>{{ e.movie_id }}</p>#}
{#        <p>{{ e.rate }}</p>#}
{#        <p>{{ e.url }}</p>#}
{#        <p>{{ e.region }}</p>#}
{#        <p>{{ e.language }}</p>#}
{#        <p>{{ e.release_time }}</p>#}
{#    {% endfor %}#}
{#</ul>#}
{% if p_start >= 0 %}
    <table width="80%" border="1" cellpadding="0" cellspacing="0" bgcolor="#adff2f">
    <tr>
        <th width="5%" scope="col">No.</th>
        <th width="10%" scope="col">Title</th>
        <th width="5%" scope="col">Rate</th>
        <th width="10%" scope="col">Director</th>
        <th width="20%" scope="col">Protagonist</th>
        <th width="10%" scope="col">Url</th>
        <th width="10%" scope="col">Region</th>
        <th width="10%" scope="col">Language</th>
        <th width="10%" scope="col">Release time</th>
        <th width="10%" scope="col">Run Time</th>
        {#      <th width="10%" scope="col">Summary</th>#}
    </tr>
{% else %}
    Page not found.
{% endif %}

{% for e in douban_obj %}
    {% if p_start < forloop.counter and forloop.counter <= p_end %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ e.title }}</td>
            <td>{{ e.rate }}</td>
            <td>{{ e.director }}</td>
            <td>{{ e.protagonist }}</td>
            <td><a href="{{ e.url }}" target="_blank">{{ e.url }}</a></td>
            <td>{{ e.region }}</td>
            <td>{{ e.language }}</td>
            <td>{{ e.release_time }}</td>
            <td>{{ e.run_time }}</td>
            {#              <td>{{ e.summary }}</td>#}
        </tr>
        {#            <img src="{{ e.cover }}"/>#}
    {% endif %}
{% endfor %}
</table>
{#{% if p_start != 0 %}#}
{#<form action="/douban/detail/{{ p_start }}" method="post">#}
{#    {% csrf_token %}#}
{#    <input type="hidden" type="text" name="page" value="{{ p_start }}"/>#}
{#    <input type="hidden" type="text" name="action" value="previous"/>#}
{#    <input type="submit" value="Previous" />#}
{#</form>#}
{#{% endif %}#}
{#<form action="/douban/detail/{{ p_end|add:20 }}" method="post">#}
{#    {% csrf_token %}#}
{#    <input type="hidden" type="text" name="page" value="{{ p_end }}"/>#}
{#    <input type="hidden" type="text" name="action" value="next"/>#}
{#    <input type="submit" value="Next" />#}
{#</form>#}
{% if p_start != 0 %}
    <a href="/douban/detail/{{ p_start }}">Previous</a>
{% endif %}
{% for n in 1|t_range:douban_obj %}
    <a href="/douban/detail/{% widthratio n 1 20 %}">{{ n }}</a>
{% endfor %}
{% if p_end <= douban_obj|length %}
    <a href="/douban/detail/{{ p_end|add:20 }}">Next</a>
{% endif %}
</body>
</html>